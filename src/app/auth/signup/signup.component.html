<div class="login-page" [@routerTransition]>
  <div class="row justify-content-md-center">
    <div class="col-md-4">
      <h1>Expenses client</h1>
      <form novalidate
            role="form"
            id="registerForm"
            [formGroup]="registerForm"
            (ngSubmit)="register(registerForm)">
        <div class="form-content">
          <div class="form-group">
            <input type="text" formControlName="fullname"
                   class="form-control input-underline input-lg"
                   id="fullname"
                   [ngClass]="{
                      'border-danger': registerForm.controls.fullname.invalid && registerForm.dirty
                      }"
                   name="fullname" placeholder="Full Name">
            <div class="form-control-feedback"
                 *ngIf="registerForm.controls.fullname.invalid && registerForm.dirty">
              Full name required
            </div>
          </div>
          <div class="form-group">
            <input type="email"
                   formControlName="email"
                   [email]="true"
                   class="form-control input-underline input-lg"
                   [ngClass]="{
                      'border-danger': registerForm.controls.email.invalid && registerForm.controls.email.dirty,
                      'border-success': registerForm.controls.email.valid && registerForm.controls.email.dirty
                    }"
                   id="email" name="email" placeholder="Email">
            <div class="form-control-feedback"
                 *ngIf="registerForm.controls.email.invalid && registerForm.controls.email.dirty">
              <p id="email-invalid"
                 *ngIf="registerForm.controls.email.errors.email">
                Email invald</p>
              <p id="username-exists"
                 *ngIf="registerForm.controls.email.errors.usernameExists">
                User already registered</p>
            </div>
          </div>
          <div class="form-group">
            <input type="password" formControlName="password" class="form-control input-underline input-lg"
                   id="password" name="password" placeholder="Password">
          </div>
          <div class="form-group">
            <input type="password"
                   formControlName="passwordRepeat"
                   class="form-control input-underline input-lg"
                   [ngClass]="{
                      'border-danger': registerForm.errors?.mismatchedPasswords && registerForm.controls.password.dirty
                      }"
                   id="passwordRepeat" name="passwordRepeat" placeholder="Repeat Password">
          </div>
          <div class="form-control-feedback"
               *ngIf="registerForm.errors?.mismatchedPasswords && registerForm.controls.password.dirty">
            Passwords must match!
          </div>
        </div>
        <button id="submit"
                class="btn rounded-btn"
                [disabled]="!registerForm.valid || isRegistering"> Register
        </button>&nbsp;
        <a class="btn rounded-btn" [routerLink]="['/login']"> Log in </a>
      </form>
    </div>
  </div>
</div>
